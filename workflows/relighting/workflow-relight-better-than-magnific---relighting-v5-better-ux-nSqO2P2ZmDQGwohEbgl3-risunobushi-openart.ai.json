{"last_node_id":173,"last_link_id":304,"nodes":[{"id":3,"type":"Image Size to Number","pos":[3520,1010],"size":{"0":229.20001220703125,"1":126},"flags":{},"order":30,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":1}],"outputs":[{"name":"width_num","type":"NUMBER","links":[2],"shape":3,"slot_index":0},{"name":"height_num","type":"NUMBER","links":[3],"shape":3,"slot_index":1},{"name":"width_float","type":"FLOAT","links":null,"shape":3},{"name":"height_float","type":"FLOAT","links":null,"shape":3},{"name":"width_int","type":"INT","links":null,"shape":3},{"name":"height_int","type":"INT","links":null,"shape":3}],"properties":{"Node name for S&R":"Image Size to Number"}},{"id":10,"type":"Note","pos":[3606.9287458907243,-686.8511183423655],"size":{"0":298.5782470703125,"1":104.76545715332031},"flags":{},"order":0,"mode":0,"properties":{"text":""},"widgets_values":["Place your original image here"],"color":"#432","bgcolor":"#653"},{"id":11,"type":"Note","pos":[3966.9287458907243,-686.8511183423655],"size":{"0":298.5782470703125,"1":104.76545715332031},"flags":{},"order":1,"mode":0,"properties":{"text":""},"widgets_values":["If you want to add a background, place it here"],"color":"#432","bgcolor":"#653"},{"id":12,"type":"Note","pos":[4566.928745890728,-686.8511183423655],"size":{"0":298.5782470703125,"1":104.76545715332031},"flags":{},"order":2,"mode":0,"properties":{"text":""},"widgets_values":["If you want to add a Light Mask, place it here"],"color":"#432","bgcolor":"#653"},{"id":14,"type":"Note","pos":[5259.195359215038,-696.8511183423656],"size":{"0":365.2578125,"1":91.70111083984375},"flags":{},"order":3,"mode":0,"properties":{"text":""},"widgets_values":["Briefly describe the subject of your original image here"],"color":"#432","bgcolor":"#653"},{"id":16,"type":"Note","pos":[5759.195359215038,-696.8511183423656],"size":{"0":365.2578125,"1":91.70111083984375},"flags":{},"order":4,"mode":0,"properties":{"text":""},"widgets_values":["Briefly describe the kind of light you wish to use for relighting here"],"color":"#432","bgcolor":"#653"},{"id":2,"type":"ImageScaleToMegapixels","pos":[3480,880],"size":{"0":315,"1":78},"flags":{},"order":27,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":6},{"name":"upscale_model_opt","type":"UPSCALE_MODEL","link":null}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1,21],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageScaleToMegapixels"},"widgets_values":[1.5]},{"id":26,"type":"SAMModelLoader (segment anything)","pos":[3180,1870],"size":{"0":315,"1":58},"flags":{},"order":5,"mode":0,"outputs":[{"name":"SAM_MODEL","type":"SAM_MODEL","links":[29],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"SAMModelLoader (segment anything)"},"widgets_values":["sam_hq_vit_h (2.57GB)"]},{"id":25,"type":"GroundingDinoModelLoader (segment anything)","pos":[3140,1990],"size":{"0":361.20001220703125,"1":58},"flags":{},"order":6,"mode":0,"outputs":[{"name":"GROUNDING_DINO_MODEL","type":"GROUNDING_DINO_MODEL","links":[30],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"GroundingDinoModelLoader (segment anything)"},"widgets_values":["GroundingDINO_SwinT_OGC (694MB)"]},{"id":28,"type":"PreviewImage","pos":[3960,2050],"size":{"0":210,"1":246},"flags":{},"order":42,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":26}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":31,"type":"PreviewImage","pos":[4220,2050],"size":{"0":210,"1":246},"flags":{},"order":48,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":32}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":27,"type":"MaskToImage","pos":[3970,1960],"size":{"0":186.22702026367188,"1":29.942792892456055},"flags":{},"order":47,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":97}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[32,33],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"MaskToImage"}},{"id":43,"type":"PreviewImage","pos":[5320.163849431818,2357.890001085066],"size":{"0":210,"1":246},"flags":{},"order":45,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":47}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":18,"type":"CLIPTextEncode","pos":[5529.998046875001,1448.926390663335],"size":{"0":400,"1":200},"flags":{},"order":24,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":8}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[9],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["natural light, advertising photo of a "]},{"id":19,"type":"ConditioningConcat","pos":[6029.998046875001,1448.926390663335],"size":{"0":253.60000610351562,"1":51.62923812866211},"flags":{},"order":28,"mode":0,"inputs":[{"name":"conditioning_to","type":"CONDITIONING","link":9},{"name":"conditioning_from","type":"CONDITIONING","link":10,"slot_index":1}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[51],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ConditioningConcat"}},{"id":20,"type":"CLIPTextEncode","pos":[5519.998046875001,1708.9263906633344],"size":{"0":400,"1":200},"flags":{},"order":25,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":11}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[55],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["watermark, deformed, bad anatomy"]},{"id":44,"type":"VAEEncode","pos":[5589.998046875001,1978.9263906633348],"size":{"0":210,"1":46},"flags":{},"order":53,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":277},{"name":"vae","type":"VAE","link":52}],"outputs":[{"name":"LATENT","type":"LATENT","links":[56],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAEEncode"}},{"id":49,"type":"IPAdapterUnifiedLoader","pos":[5554.998046875001,923.9263906633365],"size":{"0":315,"1":78},"flags":{},"order":22,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":66},{"name":"ipadapter","type":"IPADAPTER","link":null}],"outputs":[{"name":"model","type":"MODEL","links":[63],"shape":3,"slot_index":0},{"name":"ipadapter","type":"IPADAPTER","links":[64],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"IPAdapterUnifiedLoader"},"widgets_values":["PLUS (high strength)"]},{"id":56,"type":"GrowMaskWithBlur","pos":[7321.391327915301,3099.9059372854545],"size":{"0":315,"1":246},"flags":{},"order":64,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":77}],"outputs":[{"name":"mask","type":"MASK","links":[78],"shape":3,"slot_index":0},{"name":"mask_inverted","type":"MASK","links":null,"shape":3}],"properties":{"Node name for S&R":"GrowMaskWithBlur"},"widgets_values":[0,0,true,false,0,1,1,false]},{"id":57,"type":"RemapMaskRange","pos":[7331.391327915301,2979.9059372854545],"size":{"0":315,"1":82},"flags":{},"order":68,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":78}],"outputs":[{"name":"mask","type":"MASK","links":[79],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"RemapMaskRange"},"widgets_values":[0,1.02]},{"id":58,"type":"MaskToImage","pos":[7421.391327915301,2909.9059372854545],"size":{"0":210,"1":26},"flags":{},"order":77,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":79}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[95],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"MaskToImage"}},{"id":61,"type":"MaskToImage","pos":[6651.391327915301,3319.9059372854545],"size":{"0":210,"1":26},"flags":{},"order":65,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":81}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[94],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"MaskToImage"}},{"id":62,"type":"PreviewImage","pos":[6961.391327915301,2969.9059372854545],"size":{"0":322.7040710449219,"1":315.2618408203125},"flags":{},"order":78,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":82}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":77,"type":"JWImageResize","pos":[6661.391327915301,3399.9059372854545],"size":{"0":220.72084045410156,"1":104.490234375},"flags":{},"order":69,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":94},{"name":"height","type":"INT","link":284,"widget":{"name":"height"}},{"name":"width","type":"INT","link":296,"widget":{"name":"width"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[82],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"JWImageResize"},"widgets_values":[1024,1024,"bicubic"]},{"id":30,"type":"GrowMaskWithBlur","pos":[3580,2050],"size":{"0":315,"1":246},"flags":{},"order":43,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":28}],"outputs":[{"name":"mask","type":"MASK","links":[97],"shape":3,"slot_index":0},{"name":"mask_inverted","type":"MASK","links":null,"shape":3}],"properties":{"Node name for S&R":"GrowMaskWithBlur"},"widgets_values":[-1,0,true,false,0.5,1,1,false]},{"id":60,"type":"MaskFromRGBCMYBW+","pos":[6591.391327915301,2989.9059372854545],"size":{"0":315,"1":246},"flags":{},"order":61,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":96},{"name":"threshold_r","type":"FLOAT","link":169,"widget":{"name":"threshold_r"},"slot_index":1},{"name":"threshold_g","type":"FLOAT","link":170,"widget":{"name":"threshold_g"},"slot_index":2},{"name":"threshold_b","type":"FLOAT","link":171,"widget":{"name":"threshold_b"},"slot_index":3}],"outputs":[{"name":"red","type":"MASK","links":null,"shape":3},{"name":"green","type":"MASK","links":null,"shape":3},{"name":"blue","type":"MASK","links":null,"shape":3},{"name":"cyan","type":"MASK","links":null,"shape":3},{"name":"magenta","type":"MASK","links":null,"shape":3},{"name":"yellow","type":"MASK","links":null,"shape":3},{"name":"black","type":"MASK","links":null,"shape":3},{"name":"white","type":"MASK","links":[77,81],"shape":3,"slot_index":7}],"properties":{"Node name for S&R":"MaskFromRGBCMYBW+"},"widgets_values":[0.75,0.75,0.75]},{"id":85,"type":"JWImageResize","pos":[7115.17306299557,2500.4742917775266],"size":{"0":315,"1":106},"flags":{},"order":62,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":174},{"name":"height","type":"INT","link":285,"widget":{"name":"height"},"slot_index":1},{"name":"width","type":"INT","link":299,"widget":{"name":"width"},"slot_index":2}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[130],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"JWImageResize"},"widgets_values":[1024,1024,"bicubic"]},{"id":87,"type":"LoadAndApplyICLightUnet","pos":[6673.689702159327,2521.3669024869214],"size":{"0":381.3333740234375,"1":58},"flags":{},"order":19,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":123}],"outputs":[{"name":"MODEL","type":"MODEL","links":[124],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"LoadAndApplyICLightUnet"},"widgets_values":["iclight_sd15_fc.safetensors"]},{"id":92,"type":"ICLightConditioning","pos":[7773.689702159327,2491.3669024869214],"size":{"0":342.5999755859375,"1":138},"flags":{},"order":70,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":159},{"name":"negative","type":"CONDITIONING","link":127},{"name":"vae","type":"VAE","link":128},{"name":"foreground","type":"LATENT","link":129},{"name":"opt_background","type":"LATENT","link":null}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[125],"shape":3,"slot_index":0},{"name":"negative","type":"CONDITIONING","links":[126],"shape":3,"slot_index":1},{"name":"empty_latent","type":"LATENT","links":[],"shape":3,"slot_index":2}],"properties":{"Node name for S&R":"ICLightConditioning"},"widgets_values":[0.156]},{"id":93,"type":"VAEEncode","pos":[7492.864955284942,2342.128345632841],"size":{"0":210,"1":46},"flags":{},"order":66,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":130,"slot_index":0},{"name":"vae","type":"VAE","link":131,"slot_index":1}],"outputs":[{"name":"LATENT","type":"LATENT","links":[129],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAEEncode"}},{"id":94,"type":"VAEDecode","pos":[8303.689702159329,2291.3669024869214],"size":{"0":210,"1":46},"flags":{},"order":83,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":132},{"name":"vae","type":"VAE","link":133,"slot_index":1}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[134],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":88,"type":"CheckpointLoaderSimple","pos":[6713.689702159327,2371.3669024869214],"size":{"0":315,"1":98},"flags":{},"order":7,"mode":0,"outputs":[{"name":"MODEL","type":"MODEL","links":[123],"shape":3,"slot_index":0},{"name":"CLIP","type":"CLIP","links":[122,158],"shape":3,"slot_index":1},{"name":"VAE","type":"VAE","links":[128,131,133,172,173],"shape":3,"slot_index":2}],"properties":{"Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["epicrealism_naturalSinRC1VAE.safetensors"]},{"id":117,"type":"RemapImageRange","pos":[9729.69583771355,3269.5230563732102],"size":{"0":315,"1":106},"flags":{},"order":72,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":175}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[180],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"RemapImageRange"},"widgets_values":[0,1,true]},{"id":118,"type":"RemapImageRange","pos":[9729.69583771355,3429.5230563732102],"size":{"0":315,"1":106},"flags":{},"order":73,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":176}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[183],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"RemapImageRange"},"widgets_values":[-0.2,0.8,true]},{"id":119,"type":"RemapImageRange","pos":[9719.69583771355,3599.5230563732102],"size":{"0":315,"1":106},"flags":{},"order":74,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":177}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[186],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"RemapImageRange"},"widgets_values":[-0.4,0.6,true]},{"id":120,"type":"RemapImageRange","pos":[9719.69583771355,3769.5230563732102],"size":{"0":315,"1":106},"flags":{},"order":75,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":178}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[189],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"RemapImageRange"},"widgets_values":[-0.6,0.4,true]},{"id":121,"type":"ColorMatchImage","pos":[10149.69583771355,3239.5230563732102],"size":{"0":315,"1":126},"flags":{},"order":88,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":179},{"name":"reference","type":"IMAGE","link":180},{"name":"blur_size","type":"INT","link":181,"widget":{"name":"blur_size"},"slot_index":2}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[204],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ColorMatchImage"},"widgets_values":["guidedFilter",30,1]},{"id":122,"type":"ColorMatchImage","pos":[10149.69583771355,3419.5230563732102],"size":{"0":315,"1":126},"flags":{},"order":89,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":182},{"name":"reference","type":"IMAGE","link":183},{"name":"blur_size","type":"INT","link":184,"widget":{"name":"blur_size"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[205],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ColorMatchImage"},"widgets_values":["guidedFilter",30,1]},{"id":123,"type":"ColorMatchImage","pos":[10149.69583771355,3599.5230563732102],"size":{"0":315,"1":126},"flags":{},"order":90,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":185},{"name":"reference","type":"IMAGE","link":186},{"name":"blur_size","type":"INT","link":187,"widget":{"name":"blur_size"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[206],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ColorMatchImage"},"widgets_values":["guidedFilter",30,1]},{"id":124,"type":"ColorMatchImage","pos":[10149.69583771355,3769.5230563732102],"size":{"0":315,"1":126},"flags":{},"order":91,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":188},{"name":"reference","type":"IMAGE","link":189},{"name":"blur_size","type":"INT","link":190,"widget":{"name":"blur_size"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[207],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ColorMatchImage"},"widgets_values":["guidedFilter",30,1]},{"id":134,"type":"Reroute","pos":[9169.69583771355,3109.5230563732102],"size":[75,26],"flags":{},"order":63,"mode":0,"inputs":[{"name":"","type":"*","link":243}],"outputs":[{"name":"","type":"IMAGE","links":[217,219,233,240,242]}],"properties":{"showOutputText":false,"horizontal":false}},{"id":135,"type":"BatchAverageImage","pos":[10573.010135969715,3203.3506169791845],"size":{"0":315,"1":58},"flags":{},"order":96,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":203}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[211],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"BatchAverageImage"},"widgets_values":["mean"]},{"id":137,"type":"BatchAverageImage","pos":[10563.010135969715,3403.3506169791845],"size":{"0":315,"1":58},"flags":{},"order":100,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":209}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[224],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"BatchAverageImage"},"widgets_values":["mean"]},{"id":138,"type":"ImageBatch","pos":[10573.010135969715,3313.3506169791845],"size":{"0":210,"1":46},"flags":{},"order":98,"mode":0,"inputs":[{"name":"image1","type":"IMAGE","link":210},{"name":"image2","type":"IMAGE","link":211}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[209],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageBatch"}},{"id":140,"type":"BatchAverageImage","pos":[10592.467317660517,2222.4092824373743],"size":{"0":315,"1":58},"flags":{},"order":95,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":213}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[220],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"BatchAverageImage"},"widgets_values":["mean"]},{"id":148,"type":"FrequencySeparationHSV","pos":[9309.69583771355,3599.5230563732102],"size":{"0":315,"1":78},"flags":{},"order":86,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":246}],"outputs":[{"name":"high_freq","type":"IMAGE","links":[231],"shape":3,"slot_index":0},{"name":"low_freq","type":"IMAGE","links":[179,182,185,188,210,215,232],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"FrequencySeparationHSV"},"widgets_values":[3]},{"id":149,"type":"PreviewImage","pos":[9439.69583771355,3269.5230563732102],"size":{"0":210,"1":246},"flags":{},"order":76,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":229}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":150,"type":"PreviewImage","pos":[9189.69583771355,3269.5230563732102],"size":{"0":210,"1":246},"flags":{},"order":71,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":230}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":151,"type":"PreviewImage","pos":[9179.69583771355,3769.5230563732102],"size":{"0":210,"1":246},"flags":{},"order":87,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":231}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":152,"type":"PreviewImage","pos":[9449.69583771355,3769.5230563732102],"size":{"0":210,"1":246},"flags":{},"order":93,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":232}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":153,"type":"FrequencySeparation","pos":[9299.69583771355,3099.5230563732102],"size":{"0":315,"1":78},"flags":{},"order":67,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":233}],"outputs":[{"name":"high_freq","type":"IMAGE","links":[230,234,236],"shape":3,"slot_index":0},{"name":"low_freq","type":"IMAGE","links":[175,176,177,178,208,214,221,223,225,227,229],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"FrequencySeparation"},"widgets_values":[3]},{"id":147,"type":"Image Blending Mode","pos":[10563.010135969715,3683.3506169791845],"size":{"0":315,"1":102},"flags":{},"order":104,"mode":0,"inputs":[{"name":"image_a","type":"IMAGE","link":226},{"name":"image_b","type":"IMAGE","link":227}],"outputs":[{"name":"image","type":"IMAGE","links":[235],"shape":3,"slot_index":0}],"title":"Hue Blending Control","properties":{"Node name for S&R":"Image Blending Mode"},"widgets_values":["hue",0.7000000000000001]},{"id":164,"type":"PreviewImage","pos":[8675.37042776941,3251.9348502788475],"size":{"0":210,"1":246},"flags":{},"order":41,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":245}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":74,"type":"GrowMaskWithBlur","pos":[8275.37042776941,3351.9348502788475],"size":{"0":315,"1":246},"flags":{},"order":29,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":92}],"outputs":[{"name":"mask","type":"MASK","links":[90],"shape":3,"slot_index":0},{"name":"mask_inverted","type":"MASK","links":null,"shape":3}],"properties":{"Node name for S&R":"GrowMaskWithBlur"},"widgets_values":[0,0,true,false,30,1,1,false]},{"id":86,"type":"CLIPTextEncode","pos":[7123.689702159327,2335.3669024869214],"size":{"0":291.6984558105469,"1":106.95012664794922},"flags":{},"order":20,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":122}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[127],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["desaturated, sepia, white"]},{"id":78,"type":"JWImageResize","pos":[7681.391327915301,2999.9059372854545],"size":{"0":220.72084045410156,"1":104.490234375},"flags":{},"order":79,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":95},{"name":"height","type":"INT","link":286,"widget":{"name":"height"}},{"name":"width","type":"INT","link":297,"widget":{"name":"width"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[249],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"JWImageResize"},"widgets_values":[1024,1024,"bicubic"]},{"id":142,"type":"Image Comparer (rgthree)","pos":{"0":10952.466796875,"1":2192.410888671875,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":552.0147094726562,"1":594.114990234375},"flags":{},"order":105,"mode":0,"inputs":[{"name":"image_a","type":"IMAGE","link":216,"dir":3},{"name":"image_b","type":"IMAGE","link":217,"dir":3}],"outputs":[],"properties":{"comparer_mode":"Slide"},"widgets_values":[[{"url":"/view?filename=rgthree.compare._temp_ilhlu_00001_.png&type=temp&subfolder=&rand=0.6212832360518887","name":"A","selected":true},{"url":"/view?filename=rgthree.compare._temp_ilhlu_00002_.png&type=temp&subfolder=&rand=0.7024315598681281","name":"B","selected":true}]]},{"id":141,"type":"ImageBatch","pos":[10632.467317660517,2122.4092824373747],"size":{"0":210,"1":46},"flags":{},"order":92,"mode":0,"inputs":[{"name":"image1","type":"IMAGE","link":214},{"name":"image2","type":"IMAGE","link":215}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[213],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageBatch"}},{"id":146,"type":"Image Blending Mode","pos":[10563.010135969715,3523.3506169791845],"size":{"0":315,"1":102},"flags":{},"order":102,"mode":0,"inputs":[{"name":"image_a","type":"IMAGE","link":224},{"name":"image_b","type":"IMAGE","link":225}],"outputs":[{"name":"image","type":"IMAGE","links":[226],"shape":3,"slot_index":0}],"title":"Color Blending Control","properties":{"Node name for S&R":"Image Blending Mode"},"widgets_values":["color",0.7000000000000001]},{"id":136,"type":"ImageBatchMulti","pos":[10614.449669489231,2991.092390863193],"size":{"0":210,"1":162},"flags":{},"order":94,"mode":0,"inputs":[{"name":"image_1","type":"IMAGE","link":204},{"name":"image_2","type":"IMAGE","link":205},{"name":"image_3","type":"IMAGE","link":206},{"name":"image_4","type":"IMAGE","link":207},{"name":"image_5","type":"IMAGE","link":208}],"outputs":[{"name":"images","type":"IMAGE","links":[203],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageBatchMulti"},"widgets_values":[5,null]},{"id":97,"type":"JWImageResize","pos":[9132.689702159329,2548.3669024869214],"size":{"0":271.889892578125,"1":106},"flags":{},"order":85,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":135},{"name":"height","type":"INT","link":287,"widget":{"name":"height"}},{"name":"width","type":"INT","link":301,"widget":{"name":"width"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[246],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"JWImageResize"},"widgets_values":[1024,1024,"bicubic"]},{"id":96,"type":"PreviewBridge","pos":[8580.062533773933,2197.9557145965987],"size":{"0":481.9372863769531,"1":519.1318969726562},"flags":{},"order":84,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":134}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[135],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":[],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"PreviewBridge"},"widgets_values":["$96-0"]},{"id":73,"type":"RemapMaskRange","pos":[8275.37042776941,3201.9348502788475],"size":{"0":315,"1":82},"flags":{},"order":26,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":99}],"outputs":[{"name":"mask","type":"MASK","links":[92],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"RemapMaskRange"},"widgets_values":[0,1.06]},{"id":71,"type":"MaskToImage","pos":[8679.37042776941,2905.9348502788475],"size":{"0":210,"1":26},"flags":{},"order":31,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":90}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[106],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"MaskToImage"}},{"id":48,"type":"Note","pos":[6316.462460820597,-831.3849553425492],"size":{"0":233.44432067871094,"1":210.6070556640625},"flags":{},"order":8,"mode":0,"properties":{"text":""},"widgets_values":["Set your Denoise value for regeneration here:\n- Low (0.1-0.3) = background stays basically the same\n- Average (0.3-0.6) = background changes a bit\n- High (0.6-1) = background changes a lot"],"color":"#432","bgcolor":"#653"},{"id":160,"type":"Image Comparer (rgthree)","pos":{"0":4685.9970703125,"1":-211.62017822265625,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":560.271728515625,"1":604.8899536132812},"flags":{},"order":106,"mode":0,"inputs":[{"name":"image_a","type":"IMAGE","link":239,"dir":3},{"name":"image_b","type":"IMAGE","link":240,"dir":3}],"outputs":[],"properties":{"comparer_mode":"Slide"},"widgets_values":[[{"url":"/view?filename=rgthree.compare._temp_huviq_00001_.png&type=temp&subfolder=&rand=0.9304117872116306","name":"A","selected":true},{"url":"/view?filename=rgthree.compare._temp_huviq_00002_.png&type=temp&subfolder=&rand=0.07234994297381436","name":"B","selected":true}]]},{"id":145,"type":"Image Blending Mode","pos":[10592.467317660517,2482.4092824373743],"size":{"0":315,"1":102},"flags":{},"order":99,"mode":0,"inputs":[{"name":"image_a","type":"IMAGE","link":222},{"name":"image_b","type":"IMAGE","link":223}],"outputs":[{"name":"image","type":"IMAGE","links":[237],"shape":3,"slot_index":0}],"title":"Hue Blending Control","properties":{"Node name for S&R":"Image Blending Mode"},"widgets_values":["hue",1]},{"id":161,"type":"Image Comparer (rgthree)","pos":{"0":5405.9970703125,"1":-205.62017822265625,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":560.271728515625,"1":604.8899536132812},"flags":{},"order":111,"mode":0,"inputs":[{"name":"image_a","type":"IMAGE","link":241,"dir":3},{"name":"image_b","type":"IMAGE","link":242,"dir":3}],"outputs":[],"properties":{"comparer_mode":"Slide"},"widgets_values":[[{"url":"/view?filename=rgthree.compare._temp_bccyp_00015_.png&type=temp&subfolder=&rand=0.9153950543007223","name":"A","selected":true},{"url":"/view?filename=rgthree.compare._temp_bccyp_00016_.png&type=temp&subfolder=&rand=0.9435713439456008","name":"B","selected":true}]]},{"id":166,"type":"Note","pos":[5197.995865032613,-358.6201577192276],"size":{"0":210,"1":58},"flags":{},"order":9,"mode":0,"properties":{"text":""},"widgets_values":["Higher Max = More Whites\nLower Min = More Blacks"],"color":"#432","bgcolor":"#653"},{"id":116,"type":"Float","pos":[6181.626845718614,3069.659513116052],"size":{"0":315,"1":58},"flags":{},"order":10,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[169,170,171],"shape":3,"slot_index":0}],"title":"White Point","properties":{"Node name for S&R":"Float"},"widgets_values":[0.2]},{"id":144,"type":"Image Blending Mode","pos":[10592,2342],"size":{"0":315,"1":102},"flags":{},"order":97,"mode":0,"inputs":[{"name":"image_a","type":"IMAGE","link":220},{"name":"image_b","type":"IMAGE","link":221}],"outputs":[{"name":"image","type":"IMAGE","links":[222],"shape":3,"slot_index":0}],"title":"Color Blending Control","properties":{"Node name for S&R":"Image Blending Mode"},"widgets_values":["color",1]},{"id":39,"type":"ControlNetLoader","pos":[5660.163849431818,2236.8900010850666],"size":{"0":315,"1":58},"flags":{},"order":11,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[44],"shape":3}],"properties":{"Node name for S&R":"ControlNetLoader"},"widgets_values":["control_sd15_depth.pth"]},{"id":17,"type":"CheckpointLoaderSimple","pos":[5149.998046875001,1458.9263906633346],"size":{"0":315,"1":98},"flags":{},"order":12,"mode":0,"outputs":[{"name":"MODEL","type":"MODEL","links":[66],"shape":3,"slot_index":0},{"name":"CLIP","type":"CLIP","links":[7,8,11],"shape":3,"slot_index":1},{"name":"VAE","type":"VAE","links":[52,69],"shape":3,"slot_index":2}],"properties":{"Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["epicrealism_naturalSinRC1VAE.safetensors"]},{"id":9,"type":"LoadImageMask","pos":[4555,-1064],"size":{"0":315,"1":318.0002136230469},"flags":{},"order":13,"mode":0,"outputs":[{"name":"MASK","type":"MASK","links":[99],"shape":3,"slot_index":0}],"title":"(Optional) Place Light Mask Here","properties":{"Node name for S&R":"LoadImageMask"},"widgets_values":["WhatsApp Image 2024-07-01 at 16.20.54_67c60483 (1).jpg","red","image"],"color":"#432","bgcolor":"#653"},{"id":8,"type":"LoadImage","pos":[3960,-1066],"size":{"0":286.32733154296875,"1":314},"flags":{},"order":14,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[12],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3,"slot_index":1}],"title":"(Optional) Place Background here","properties":{"Node name for S&R":"LoadImage"},"widgets_values":["9a3a16b44f1ebbc4d66408a636269465 (4).jpg","image"],"color":"#432","bgcolor":"#653"},{"id":35,"type":"PreviewImage","pos":[4710,1898],"size":{"0":210,"1":246},"flags":{},"order":52,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":271}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":111,"type":"Cfg Literal","pos":[7843,2364],"size":{"0":218.28643798828125,"1":58.90962219238281},"flags":{},"order":15,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[152],"shape":3}],"title":"Relight CFG (1.2-3.5)","properties":{"Node name for S&R":"Cfg Literal"},"widgets_values":[2.4000000000000004]},{"id":22,"type":"Switch any [Crystools]","pos":[4293,-832],"size":{"0":230.73004150390625,"1":79.37934875488281},"flags":{},"order":39,"mode":0,"inputs":[{"name":"on_true","type":"*","link":19},{"name":"on_false","type":"*","link":24}],"outputs":[{"name":"*","type":"*","links":[36],"shape":3,"slot_index":0}],"title":"Did you input a background?","properties":{"Node name for S&R":"Switch any [Crystools]"},"widgets_values":[true],"color":"#322","bgcolor":"#533"},{"id":52,"type":"PreviewImage","pos":[6814.998046875001,1044.9263906633355],"size":{"0":415.5520935058594,"1":388.6999206542969},"flags":{},"order":57,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":70}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":55,"type":"VAEEncode","pos":[7931.626845718614,2899.659513116052],"size":{"0":210,"1":46},"flags":{},"order":80,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":249},{"name":"vae","type":"VAE","link":173,"slot_index":1}],"outputs":[{"name":"LATENT","type":"LATENT","links":[121],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAEEncode"}},{"id":75,"type":"VAEEncode","pos":[8685,3144],"size":{"0":210,"1":46},"flags":{},"order":40,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":107},{"name":"vae","type":"VAE","link":172,"slot_index":1}],"outputs":[{"name":"LATENT","type":"LATENT","links":[120],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAEEncode"}},{"id":155,"type":"FrequencyCombination","pos":[10632.467317660517,2802.4092824373743],"size":{"0":218.39999389648438,"1":46},"flags":{},"order":101,"mode":0,"inputs":[{"name":"high_freq","type":"IMAGE","link":236},{"name":"low_freq","type":"IMAGE","link":237}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[238],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"FrequencyCombination"}},{"id":169,"type":"SaveImage","pos":[11690,2438],"size":{"0":315,"1":270},"flags":{},"order":112,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":260}],"properties":{},"widgets_values":["ComfyUI"]},{"id":170,"type":"SaveImage","pos":[11662,3617],"size":{"0":315,"1":270},"flags":{},"order":107,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":261}],"properties":{},"widgets_values":["ComfyUI"]},{"id":154,"type":"FrequencyCombination","pos":[10567.010135969715,4005.3506169791845],"size":{"0":218.39999389648438,"1":46},"flags":{},"order":108,"mode":0,"inputs":[{"name":"high_freq","type":"IMAGE","link":234},{"name":"low_freq","type":"IMAGE","link":235}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[212],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"FrequencyCombination"}},{"id":143,"type":"Image Comparer (rgthree)","pos":{"0":10953,"1":3145,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":523.7183227539062,"1":552.6787109375},"flags":{},"order":110,"mode":0,"inputs":[{"name":"image_a","type":"IMAGE","link":218,"dir":3},{"name":"image_b","type":"IMAGE","link":219,"dir":3}],"outputs":[],"properties":{"comparer_mode":"Slide"},"widgets_values":[[{"url":"/view?filename=rgthree.compare._temp_fmvvt_00001_.png&type=temp&subfolder=&rand=0.6592991794106042","name":"A","selected":true},{"url":"/view?filename=rgthree.compare._temp_fmvvt_00002_.png&type=temp&subfolder=&rand=0.015669975625712596","name":"B","selected":true}]]},{"id":139,"type":"RemapImageRange","pos":[5513,-370],"size":{"0":315,"1":106},"flags":{},"order":109,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":212}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[218,241,260],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"RemapImageRange"},"widgets_values":[-0.15,1.45,true],"color":"#232","bgcolor":"#353"},{"id":159,"type":"RemapImageRange","pos":[4777,-371],"size":{"0":315,"1":106},"flags":{},"order":103,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":238}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[216,239,261],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"RemapImageRange"},"widgets_values":[0,1.1400000000000001,true],"color":"#232","bgcolor":"#353"},{"id":29,"type":"GroundingDinoSAMSegment (segment anything)","pos":[3560,1870],"size":{"0":352.79998779296875,"1":122},"flags":{},"order":37,"mode":0,"inputs":[{"name":"sam_model","type":"SAM_MODEL","link":29,"slot_index":0},{"name":"grounding_dino_model","type":"GROUNDING_DINO_MODEL","link":30},{"name":"image","type":"IMAGE","link":31}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[26],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":[28],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"GroundingDinoSAMSegment (segment anything)"},"widgets_values":["subject",0.3]},{"id":53,"type":"Image Blend by Mask","pos":[6378.998046875001,1903.9263906633344],"size":{"0":315,"1":98},"flags":{},"order":59,"mode":0,"inputs":[{"name":"image_a","type":"IMAGE","link":266},{"name":"image_b","type":"IMAGE","link":272},{"name":"mask","type":"IMAGE","link":73}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[74,96,174,243],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"Image Blend by Mask"},"widgets_values":[1]},{"id":45,"type":"KSampler","pos":[6374.998046875001,1451.926390663335],"size":{"0":315,"1":262},"flags":{},"order":55,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":65},{"name":"positive","type":"CONDITIONING","link":54},{"name":"negative","type":"CONDITIONING","link":55},{"name":"latent_image","type":"LATENT","link":56},{"name":"denoise","type":"FLOAT","link":62,"widget":{"name":"denoise"},"slot_index":4}],"outputs":[{"name":"LATENT","type":"LATENT","links":[68],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[1031590226282313,"fixed",20,6,"dpmpp_2m","karras",0.55]},{"id":51,"type":"VAEDecode","pos":[6468.998046875001,1344.9263906633355],"size":{"0":210,"1":46},"flags":{},"order":56,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":68},{"name":"vae","type":"VAE","link":69,"slot_index":1}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[70,265],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":171,"type":"JWImageResize","pos":[6380.998046875001,1754.9263906633344],"size":{"0":315,"1":106},"flags":{},"order":58,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":265},{"name":"height","type":"INT","link":283,"widget":{"name":"height"},"slot_index":1},{"name":"width","type":"INT","link":295,"widget":{"name":"width"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[266],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"JWImageResize"},"widgets_values":[512,512,"bicubic"]},{"id":34,"type":"Image Blend by Mask","pos":[4670,1529],"size":{"0":315,"1":98},"flags":{},"order":50,"mode":0,"inputs":[{"name":"image_a","type":"IMAGE","link":39},{"name":"image_b","type":"IMAGE","link":42},{"name":"mask","type":"IMAGE","link":41}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[270],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"Image Blend by Mask"},"widgets_values":[1]},{"id":42,"type":"DepthAnythingPreprocessor","pos":[5255,2219],"size":{"0":315,"1":82},"flags":{},"order":38,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":75}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[45,47],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"DepthAnythingPreprocessor"},"widgets_values":["depth_anything_vitl14.pth",512]},{"id":54,"type":"PreviewImage","pos":[6821.998046875001,1508.9263906633346],"size":{"0":424.0754699707031,"1":447.44970703125},"flags":{},"order":60,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":74}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":50,"type":"IPAdapterAdvanced","pos":[5554.998046875001,1088.9263906633355],"size":{"0":315,"1":278},"flags":{},"order":54,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":63},{"name":"ipadapter","type":"IPADAPTER","link":64},{"name":"image","type":"IMAGE","link":303},{"name":"image_negative","type":"IMAGE","link":null},{"name":"attn_mask","type":"MASK","link":null},{"name":"clip_vision","type":"CLIP_VISION","link":null}],"outputs":[{"name":"MODEL","type":"MODEL","links":[65],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"IPAdapterAdvanced"},"widgets_values":[0.3,"linear","concat",0,1,"V only"]},{"id":38,"type":"ControlNetApply","pos":[5662.163849431818,2349.890001085066],"size":{"0":317.4000244140625,"1":98},"flags":{},"order":44,"mode":0,"inputs":[{"name":"conditioning","type":"CONDITIONING","link":51},{"name":"control_net","type":"CONTROL_NET","link":44,"slot_index":1},{"name":"image","type":"IMAGE","link":45}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[54],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ControlNetApply"},"widgets_values":[0.85]},{"id":24,"type":"Switch any [Crystools]","pos":[4901,-834],"size":{"0":230.73004150390625,"1":79.37934875488281},"flags":{},"order":81,"mode":0,"inputs":[{"name":"on_true","type":"*","link":120},{"name":"on_false","type":"*","link":121}],"outputs":[{"name":"*","type":"*","links":[151],"shape":3,"slot_index":0}],"title":"Did you input a Light Mask?","properties":{"Node name for S&R":"Switch any [Crystools]"},"widgets_values":[true],"color":"#322","bgcolor":"#533"},{"id":91,"type":"KSampler","pos":[8203.68970215933,2391.3669024869214],"size":{"0":315,"1":262},"flags":{},"order":82,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":124,"slot_index":0},{"name":"positive","type":"CONDITIONING","link":125,"slot_index":1},{"name":"negative","type":"CONDITIONING","link":126,"slot_index":2},{"name":"latent_image","type":"LATENT","link":151},{"name":"cfg","type":"FLOAT","link":152,"widget":{"name":"cfg"},"slot_index":4}],"outputs":[{"name":"LATENT","type":"LATENT","links":[132],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[100361857014344,"fixed",30,2.5,"dpmpp_2m_sde","karras",1]},{"id":46,"type":"Float","pos":[6308,-958],"size":{"0":235.74205017089844,"1":58.22103500366211},"flags":{},"order":16,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[62],"shape":3,"slot_index":0}],"title":"Denoise (0.1-1.0)","properties":{"Node name for S&R":"Float"},"widgets_values":[0.7000000000000001],"color":"#232","bgcolor":"#353"},{"id":13,"type":"CLIPTextEncode","pos":[5249,-961],"size":{"0":400,"1":200},"flags":{},"order":23,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":7}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[10],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["shoe"],"color":"#232","bgcolor":"#353"},{"id":15,"type":"CLIPTextEncode","pos":[5749,-967],"size":{"0":400,"1":200},"flags":{},"order":21,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":158}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[159],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["sunlight"],"color":"#232","bgcolor":"#353"},{"id":21,"type":"ImageCrop","pos":[3896,1677],"size":{"0":315,"1":130},"flags":{},"order":35,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":12},{"name":"width","type":"INT","link":292,"widget":{"name":"width"}},{"name":"height","type":"INT","link":291,"widget":{"name":"height"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[19],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageCrop"},"widgets_values":[1600,900,0,0]},{"id":33,"type":"JWImageResize","pos":[4290,1690],"size":{"0":315,"1":106},"flags":{},"order":46,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":36},{"name":"height","type":"INT","link":280,"widget":{"name":"height"},"slot_index":1},{"name":"width","type":"INT","link":293,"widget":{"name":"width"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[39],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"JWImageResize"},"widgets_values":[512,512,"bicubic"]},{"id":32,"type":"JWImageResize","pos":[4281,1880],"size":{"0":315,"1":106},"flags":{},"order":49,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":33},{"name":"height","type":"INT","link":281,"widget":{"name":"height"},"slot_index":1},{"name":"width","type":"INT","link":298,"widget":{"name":"width"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[41,73],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"JWImageResize"},"widgets_values":[512,512,"bicubic"]},{"id":23,"type":"JWImageResize","pos":[3505,1693],"size":{"0":315,"1":106},"flags":{},"order":34,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":21},{"name":"height","type":"INT","link":289,"widget":{"name":"height"},"slot_index":1},{"name":"width","type":"INT","link":290,"widget":{"name":"width"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[24,31,42,75],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"JWImageResize"},"widgets_values":[512,512,"bicubic"]},{"id":1,"type":"LoadImage","pos":[3587,-1060],"size":{"0":315,"1":314.0000915527344},"flags":{},"order":17,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[6],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3}],"title":"Place Subject Here","properties":{"Node name for S&R":"LoadImage"},"widgets_values":["shoe-1.jpg","image"],"color":"#232","bgcolor":"#353"},{"id":172,"type":"JWImageResize","pos":[4684,1683],"size":{"0":315,"1":106},"flags":{},"order":51,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":270},{"name":"height","type":"INT","link":282,"widget":{"name":"height"},"slot_index":1},{"name":"width","type":"INT","link":294,"widget":{"name":"width"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[271,272,277,303],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"JWImageResize"},"widgets_values":[512,512,"bicubic"]},{"id":81,"type":"JWImageResize","pos":[8669,2987],"size":{"0":220.72084045410156,"1":104.490234375},"flags":{},"order":36,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":106},{"name":"height","type":"INT","link":304,"widget":{"name":"height"}},{"name":"width","type":"INT","link":302,"widget":{"name":"width"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[107,245],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"JWImageResize"},"widgets_values":[1024,1024,"bicubic"]},{"id":5,"type":"Number to Int","pos":[3525,1229],"size":{"0":210,"1":26},"flags":{},"order":33,"mode":0,"inputs":[{"name":"number","type":"NUMBER","link":3}],"outputs":[{"name":"INT","type":"INT","links":[280,281,282,283,284,285,286,287,289,291,304],"shape":3,"slot_index":0}],"title":"Height","properties":{"Node name for S&R":"Number to Int"}},{"id":4,"type":"Number to Int","pos":[3532,1313],"size":{"0":210,"1":26},"flags":{},"order":32,"mode":0,"inputs":[{"name":"number","type":"NUMBER","link":2}],"outputs":[{"name":"INT","type":"INT","links":[290,292,293,294,295,296,297,298,299,301,302],"shape":3,"slot_index":0}],"title":"Width","properties":{"Node name for S&R":"Number to Int"}},{"id":125,"type":"Int","pos":[10149.69583771355,3129.5230563732102],"size":{"0":315,"1":58},"flags":{},"order":18,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[181,184,187,190],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"Int"},"widgets_values":["0"]}],"links":[[1,2,0,3,0,"IMAGE"],[2,3,0,4,0,"NUMBER"],[3,3,1,5,0,"NUMBER"],[6,1,0,2,0,"IMAGE"],[7,17,1,13,0,"CLIP"],[8,17,1,18,0,"CLIP"],[9,18,0,19,0,"CONDITIONING"],[10,13,0,19,1,"CONDITIONING"],[11,17,1,20,0,"CLIP"],[12,8,0,21,0,"IMAGE"],[19,21,0,22,0,"*"],[21,2,0,23,0,"IMAGE"],[24,23,0,22,1,"*"],[26,29,0,28,0,"IMAGE"],[28,29,1,30,0,"MASK"],[29,26,0,29,0,"SAM_MODEL"],[30,25,0,29,1,"GROUNDING_DINO_MODEL"],[31,23,0,29,2,"IMAGE"],[32,27,0,31,0,"IMAGE"],[33,27,0,32,0,"IMAGE"],[36,22,0,33,0,"IMAGE"],[39,33,0,34,0,"IMAGE"],[41,32,0,34,2,"IMAGE"],[42,23,0,34,1,"IMAGE"],[44,39,0,38,1,"CONTROL_NET"],[45,42,0,38,2,"IMAGE"],[47,42,0,43,0,"IMAGE"],[51,19,0,38,0,"CONDITIONING"],[52,17,2,44,1,"VAE"],[54,38,0,45,1,"CONDITIONING"],[55,20,0,45,2,"CONDITIONING"],[56,44,0,45,3,"LATENT"],[62,46,0,45,4,"FLOAT"],[63,49,0,50,0,"MODEL"],[64,49,1,50,1,"IPADAPTER"],[65,50,0,45,0,"MODEL"],[66,17,0,49,0,"MODEL"],[68,45,0,51,0,"LATENT"],[69,17,2,51,1,"VAE"],[70,51,0,52,0,"IMAGE"],[73,32,0,53,2,"IMAGE"],[74,53,0,54,0,"IMAGE"],[75,23,0,42,0,"IMAGE"],[77,60,7,56,0,"MASK"],[78,56,0,57,0,"MASK"],[79,57,0,58,0,"MASK"],[81,60,7,61,0,"MASK"],[82,77,0,62,0,"IMAGE"],[90,74,0,71,0,"MASK"],[92,73,0,74,0,"MASK"],[94,61,0,77,0,"IMAGE"],[95,58,0,78,0,"IMAGE"],[96,53,0,60,0,"IMAGE"],[97,30,0,27,0,"MASK"],[99,9,0,73,0,"MASK"],[106,71,0,81,0,"IMAGE"],[107,81,0,75,0,"IMAGE"],[120,75,0,24,0,"*"],[121,55,0,24,1,"*"],[122,88,1,86,0,"CLIP"],[123,88,0,87,0,"MODEL"],[124,87,0,91,0,"MODEL"],[125,92,0,91,1,"CONDITIONING"],[126,92,1,91,2,"CONDITIONING"],[127,86,0,92,1,"CONDITIONING"],[128,88,2,92,2,"VAE"],[129,93,0,92,3,"LATENT"],[130,85,0,93,0,"IMAGE"],[131,88,2,93,1,"VAE"],[132,91,0,94,0,"LATENT"],[133,88,2,94,1,"VAE"],[134,94,0,96,0,"IMAGE"],[135,96,0,97,0,"IMAGE"],[151,24,0,91,3,"LATENT"],[152,111,0,91,4,"FLOAT"],[158,88,1,15,0,"CLIP"],[159,15,0,92,0,"CONDITIONING"],[169,116,0,60,1,"FLOAT"],[170,116,0,60,2,"FLOAT"],[171,116,0,60,3,"FLOAT"],[172,88,2,75,1,"VAE"],[173,88,2,55,1,"VAE"],[174,53,0,85,0,"IMAGE"],[175,153,1,117,0,"IMAGE"],[176,153,1,118,0,"IMAGE"],[177,153,1,119,0,"IMAGE"],[178,153,1,120,0,"IMAGE"],[179,148,1,121,0,"IMAGE"],[180,117,0,121,1,"IMAGE"],[181,125,0,121,2,"INT"],[182,148,1,122,0,"IMAGE"],[183,118,0,122,1,"IMAGE"],[184,125,0,122,2,"INT"],[185,148,1,123,0,"IMAGE"],[186,119,0,123,1,"IMAGE"],[187,125,0,123,2,"INT"],[188,148,1,124,0,"IMAGE"],[189,120,0,124,1,"IMAGE"],[190,125,0,124,2,"INT"],[203,136,0,135,0,"IMAGE"],[204,121,0,136,0,"IMAGE"],[205,122,0,136,1,"IMAGE"],[206,123,0,136,2,"IMAGE"],[207,124,0,136,3,"IMAGE"],[208,153,1,136,4,"IMAGE"],[209,138,0,137,0,"IMAGE"],[210,148,1,138,0,"IMAGE"],[211,135,0,138,1,"IMAGE"],[212,154,0,139,0,"IMAGE"],[213,141,0,140,0,"IMAGE"],[214,153,1,141,0,"IMAGE"],[215,148,1,141,1,"IMAGE"],[216,159,0,142,0,"IMAGE"],[217,134,0,142,1,"IMAGE"],[218,139,0,143,0,"IMAGE"],[219,134,0,143,1,"IMAGE"],[220,140,0,144,0,"IMAGE"],[221,153,1,144,1,"IMAGE"],[222,144,0,145,0,"IMAGE"],[223,153,1,145,1,"IMAGE"],[224,137,0,146,0,"IMAGE"],[225,153,1,146,1,"IMAGE"],[226,146,0,147,0,"IMAGE"],[227,153,1,147,1,"IMAGE"],[229,153,1,149,0,"IMAGE"],[230,153,0,150,0,"IMAGE"],[231,148,0,151,0,"IMAGE"],[232,148,1,152,0,"IMAGE"],[233,134,0,153,0,"IMAGE"],[234,153,0,154,0,"IMAGE"],[235,147,0,154,1,"IMAGE"],[236,153,0,155,0,"IMAGE"],[237,145,0,155,1,"IMAGE"],[238,155,0,159,0,"IMAGE"],[239,159,0,160,0,"IMAGE"],[240,134,0,160,1,"IMAGE"],[241,139,0,161,0,"IMAGE"],[242,134,0,161,1,"IMAGE"],[243,53,0,134,0,"*"],[245,81,0,164,0,"IMAGE"],[246,97,0,148,0,"IMAGE"],[249,78,0,55,0,"IMAGE"],[260,139,0,169,0,"IMAGE"],[261,159,0,170,0,"IMAGE"],[265,51,0,171,0,"IMAGE"],[266,171,0,53,0,"IMAGE"],[270,34,0,172,0,"IMAGE"],[271,172,0,35,0,"IMAGE"],[272,172,0,53,1,"IMAGE"],[277,172,0,44,0,"IMAGE"],[280,5,0,33,1,"INT"],[281,5,0,32,1,"INT"],[282,5,0,172,1,"INT"],[283,5,0,171,1,"INT"],[284,5,0,77,1,"INT"],[285,5,0,85,1,"INT"],[286,5,0,78,1,"INT"],[287,5,0,97,1,"INT"],[289,5,0,23,1,"INT"],[290,4,0,23,2,"INT"],[291,5,0,21,2,"INT"],[292,4,0,21,1,"INT"],[293,4,0,33,2,"INT"],[294,4,0,172,2,"INT"],[295,4,0,171,2,"INT"],[296,4,0,77,2,"INT"],[297,4,0,78,2,"INT"],[298,4,0,32,2,"INT"],[299,4,0,85,2,"INT"],[301,4,0,97,2,"INT"],[302,4,0,81,2,"INT"],[303,172,0,50,2,"IMAGE"],[304,5,0,81,1,"INT"]],"groups":[{"title":"Input Images","bounding":[3521,-1170,1638,663],"color":"#8A8","font_size":24,"locked":false},{"title":"Input Prompts","bounding":[5182,-1171,1040,662],"color":"#8A8","font_size":24,"locked":false},{"title":"Prep Images for Compositing","bounding":[2961,787,2091,1562],"color":"#b58b2a","font_size":24,"locked":false},{"title":"Regenerator","bounding":[5071,787,2291,1287],"color":"#b58b2a","font_size":24,"locked":false},{"title":"Input Variables","bounding":[6249,-1175,347,665],"color":"#8A8","font_size":24,"locked":false},{"title":"Apply Depth","bounding":[5075,2092,1205,568],"color":"#b58b2a","font_size":24,"locked":false},{"title":"Option 1","bounding":[10541,2021,1016,862],"color":"#3f789e","font_size":24,"locked":false},{"title":"Option 2","bounding":[10546,2901,1016,1160],"color":"#3f789e","font_size":24,"locked":false},{"title":"Relight","bounding":[6558,2118,2934,663],"color":"#a1309b","font_size":24,"locked":false},{"title":"Custom Light Mask","bounding":[8203,2800,795,862],"color":"#a1309b","font_size":24,"locked":false},{"title":"Global Light Mask","bounding":[6135,2801,2038,776],"color":"#a1309b","font_size":24,"locked":false},{"title":"Preserve Details","bounding":[9023,2808,1500,1254],"color":"#3f789e","font_size":24,"locked":false},{"title":"Results","bounding":[4483,-471,1667,902],"color":"#8A8","font_size":24,"locked":false},{"title":"Save image","bounding":[11571,2334,571,550],"color":"#3f789e","font_size":24,"locked":false},{"title":"Save Image","bounding":[11572,3515,563,546],"color":"#3f789e","font_size":24,"locked":false}],"config":{},"extra":{"ds":{"scale":0.7513148009015786,"offset":{"0":-8189.702111783517,"1":-2123.818688783612}}},"version":0.4}